{% extends 'base-backend.html.twig' %}

{% block title %}Edit Carousel{% endblock %}

{% block body %}
    <h1>Edit Carousel</h1>
    <div class="d-flex justify-content-between py-2">
        <a href="{{ path('app_admin_carousel_index') }}" class="btn btn-dark">Retour Ã  la liste</a>
        {{ include('admin_carousel/_delete_form.html.twig') }}
    </div>
    {{ include('admin_carousel/_form.html.twig', {'button_label': 'Mise a jour'}) }}
{% endblock %}
{% block javascripts %}
<script>
    $('.select2').select2();
</script>
<script>
        const addFormToCollection = (e) => {
        const collectionHolder = document.querySelector('.' + e.currentTarget.dataset.collectionHolderClass);

        const item = document.createElement('li');

        item.innerHTML = collectionHolder
            .dataset
            .prototype
            .replace(
            /__name__/g,
            collectionHolder.dataset.index
            );

        collectionHolder.appendChild(item);

        collectionHolder.dataset.index++;
        };
        //
		document
        .querySelectorAll('.add_item_link').forEach(btn => {
            btn.addEventListener("click", addFormToCollection)
        });
	</script>
{% endblock %}